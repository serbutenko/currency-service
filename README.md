# **–°urrency-service**

gRPC-—Å–µ—Ä–≤–∏—Å –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∞–ª—é—Ç —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ Redis.  
–ö—É—Ä—Å—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ [exchangerate.host](https://exchangerate.host/).

---

## **üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**
| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è  | –û–ø–∏—Å–∞–Ω–∏–µ  |
|------------|-----------|
| **Go** | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
| **gRPC** | –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ |
| **Protocol Buffers (Protobuf)** | –û–ø–∏—Å–∞–Ω–∏–µ API –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö |
| **Redis** | –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞–ª—é—Ç–Ω—ã—Ö –∫—É—Ä—Å–æ–≤ –∏ —Å–ø–∏—Å–∫–∞ –≤–∞–ª—é—Ç |
| **Docker** | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ |
| **Docker Compose** | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ |
| **Exchangerate.host API** | –í–Ω–µ—à–Ω–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –æ –∫—É—Ä—Å–∞—Ö –≤–∞–ª—é—Ç |

---

## **‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫**
### **1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone https://github.com/serbutenko/currency-service.git
cd currency-service
```

### **2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
cp .env.example .env
```
–∏ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π API_KEY –æ—Ç [exchangerate.host](https://exchangerate.host/).

### **3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose**
```bash
docker-compose up --build
```
–ü–æ–¥–Ω–∏–º—É—Ç—Å—è –¥–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
- `currency-service` (gRPC-—Å–µ—Ä–≤–∏—Å, –ø–æ—Ä—Ç `50051`)
- `currency-redis` (Redis, –ø–æ—Ä—Ç `6379`)

---

## **üì° gRPC API –ú–µ—Ç–æ–¥—ã**
| –ú–µ—Ç–æ–¥  | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| **GetRate** | –ü–æ–ª—É—á–∏—Ç—å –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç—ã A –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –≤–∞–ª—é—Ç–µ B. |
| **Convert** | –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å—É–º–º—ã –∏–∑ –æ–¥–Ω–æ–π –≤–∞–ª—é—Ç—ã –≤ –¥—Ä—É–≥—É—é —Å —É—á–µ—Ç–æ–º –∫—É—Ä—Å–∞. |
| **ListCurrencies** | –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∞–ª—é—Ç, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è. |

#### GetRate:
```bash
grpcurl -plaintext -d '{"from":"USD","to":"EUR"}' localhost:50051 currency.v1.CurrencyService/GetRate
```
#### Convert:
```bash
grpcurl -plaintext -d '{"from":"USD","to":"EUR", "amount":100}' localhost:50051 currency.v1.CurrencyService/Convert
```
#### ListCurrencies:
```bash
grpcurl -plaintext localhost:50051 currency.v1.CurrencyService/ListCurrencies
```

---

## **üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**
```
currency-service/
‚îú‚îÄ‚îÄ cmd/
‚îÇ ‚îî‚îÄ‚îÄ server/ # main.go ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ internal/
‚îÇ ‚îú‚îÄ‚îÄ app/ # –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ ‚îú‚îÄ‚îÄ ports/grpc/ # gRPC-—Ö–µ–Ω–¥–ª–µ—Ä—ã
‚îÇ ‚îú‚îÄ‚îÄ adapters/ # –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API
‚îÇ ‚îú‚îÄ‚îÄ cache/ # –∫—ç—à (Redis, in-memory)
‚îÇ ‚îî‚îÄ‚îÄ config/ # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ proto/ # gRPC –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (.proto)
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ README.md
```

---